specVersion: '1.0'
metadata:
  name: JTC-InvoiceApp
type: application
resources:
  configuration:
    paths:
      webapp: dist
builder:
  customTasks:
    - name: ui5-task-transpile
      afterTask: replaceVersion
      configuration:
        excludePatterns:
          - "libs/"
# https://sap.github.io/ui5-tooling/pages/extensibility/CustomServerMiddleware/
    - name: ui5-task-nwabap-deployer
      afterTask: generateVersionInfo
      configuration:
        resources:
          pattern: "**/*.*"
        connection:
          client: "100"
          useStrictSSL: false
        ui5:
          calculateApplicationIndex: true
          language: EN
          package: "ZTESTCARL"
          bspContainer: "Z_TEST_CARL"
          bspContainerText: "Fiori Test App"
          createTransport: false
          transportText: "Test Deploy v02 == do not transport ==="
          transportNo: "DFIK900393"
          transportUseUserMatch: true
          transportUseLocked: true
server:
  customMiddleware:
    - name: ui5-middleware-livereload
      afterMiddleware: compression
      configuration:
        port: 35729
        path: dist
    - name: odataProxy
      afterMiddleware: compression
    - name: ui5-middleware-servestatic
      mountPath: /resources
      afterMiddleware: compression
      configuration:
        rootPath: "../sapui5-rt-1.56.7/resources"
---
specVersion: "1.0"
kind: extension
type: server-middleware
metadata:
  name: odataProxy
middleware:
  path: lib/middleware/odataProxy.js
