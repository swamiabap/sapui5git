<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core">
    <Dialog title="Multiple Payees" id="jtc-mult-payees" class="jtcRoundDialog" contentHeight="60%">
        <beginButton>
            <Button text="Save" press=".handleSavePayees" type="Emphasized" class="jtcInvFooterButton" visible="{/view/fvoEditMode}"/>
        </beginButton>
        <endButton>
            <Button text="Cancel" press=".handleCancel" type="Ghost" class="jtcInvFooterButton"/>
        </endButton>
        <content>
            <VBox>
                <OverflowToolbar width="auto" height="auto" design="Transparent" visible="true" enabled="true"
                                 class="sapUiNoContentPadding jtcSmallMarginLeft jtcSmallMarginRight jtcNoPaddingLeft">
                    <content>
                        <ToolbarSpacer width=""/>
                        <Button text="+ Add" id="btn-add-payee" press=".handleAddPayee" type="Emphasized"
                                enabled="true" tooltip="Add payee line" class="jtcInvAddLineButton"
                                visible="{/view/fvoEditMode}"/>
                    </content>
                </OverflowToolbar>
                <ScrollContainer horizontal="true" vertical="false" class="jtcSmallMarginLeft jtcSmallMarginRight">
                    <Table items="{/invDoc/multiplePayees}" mode="None" width="46.5rem">
                        <headerToolbar>
                        </headerToolbar>
                        <columns>
                            <Column width="7rem">
                                <header>
                                    <Label text="Payee ID" tooltip="Payee ID"/>
                                </header>
                            </Column>
                            <Column width="22rem">
                                <header>
                                    <Label text="Permitted Payee Name" tooltip="Permitted Payee Name"/>
                                </header>
                            </Column>
                            <Column width="9rem" hAlign="End">
                                <header>
                                    <Label text="Amount (After GST $)" tooltip="Amount (After GST $)"/>
                                </header>
                            </Column>
                            <Column width="1.4rem" visible="{/view/fvoEditMode}"/>
                        </columns>
                        <items>
                            <ColumnListItem>
                                <VBox height="2rem" justifyContent="Center">
<!--                                    <Input value="{mp>lifnr}" visible="{/view/fvoEditMode}"/>-->
                                    <Select visible="{/view/fvoEditMode}" forceSelection="false" selectedKey="{lifnr}"
                                            items="{ path: '/view/permittedPayeesValueHelp', templateShareable: true }" showSecondaryValues="false"
                                            change=".handleChangePayeeId" width="7rem"
                                            valueState="{lifnrValueState}" valueStateText="{lifnrValueStateText}">
                                        <core:ListItem key="{empfk}" text="{text}" additionalText="{name}"/>
                                    </Select>
                                    <Text text="{lifnrRx}" visible="{= !${/view/fvoEditMode} }"/>
                                </VBox>
                                <VBox height="2rem" justifyContent="Center">
                                    <Text text="{name1}"/>
                                </VBox>
                                <VBox height="2rem" justifyContent="Center">
                                    <Input value="{postGstAmtRx}"
                                           visible="{/view/fvoEditMode}" textAlign="End" change=""/>
                                    <Text text="{postGstAmtRx}"
                                          visible="{= !${/view/fvoEditMode} }" textAlign="End"/>
                                </VBox>
                                <VBox height="2rem">
                                    <Button icon="sap-icon://delete" type="Transparent" press=".handleDeletePayee" visible="{/view/fvoEditMode}"/>
                                </VBox>
                            </ColumnListItem>
                        </items>
                    </Table>
                </ScrollContainer>
            </VBox>
        </content>
    </Dialog>
</core:FragmentDefinition>